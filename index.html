<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; script-src 'self';">
    <title>待办事项</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container" id="appContainer">
        <header class="app-header" id="appHeader">
            <div class="window-controls" aria-label="窗口控制">
                <button id="btnClose" class="traffic-light close" title="关闭" aria-label="关闭"></button>
                <button id="btnMinimize" class="traffic-light minimize" title="最小化" aria-label="最小化"></button>
                <button id="btnZoom" class="traffic-light zoom" title="缩放" aria-label="缩放"></button>
            </div>
            <h1>待办事项</h1>
        </header>
        
        <div class="content">
            <div class="todo-input-container">
                <input type="text" id="todoInput" placeholder="添加新的待办事项..." maxlength="200">
                <button id="addTodo" class="btn btn-primary">添加</button>
            </div>

            <div class="toolbar">
                <div class="segmented" role="tablist" aria-label="过滤">
                    <button id="filterAll" class="segment active" role="tab" aria-selected="true" data-filter="all">全部</button>
                    <button id="filterActive" class="segment" role="tab" aria-selected="false" data-filter="active">未完成</button>
                    <button id="filterCompleted" class="segment" role="tab" aria-selected="false" data-filter="completed">已完成</button>
                </div>
                <input id="searchInput" class="btn-ghost" style="min-width:180px;padding:6px 10px;border-radius:10px;border:1px solid var(--mac-stroke);background:#fff" placeholder="搜索 (#标签 / 关键字)" aria-label="搜索">
                <div class="tag-filters" aria-label="标签筛选"></div>
            </div>
            
            <div class="todo-stats" aria-live="polite">
                <div class="stats-left">
                    <span id="todoCount">0 个项目</span>
                    <span class="stats-sep">·</span>
                    <span id="completedCount">0 个已完成</span>
                </div>
                <div class="stats-right">
                    <button id="clearCompleted" class="btn btn-ghost" title="清除所有已完成的待办">清除已完成</button>
                </div>
            </div>
            
            <div class="todo-list-container">
                <div id="todoList" class="todo-list">
                    <div class="empty-state">
                        <p>还没有待办事项</p>
                        <p class="empty-subtext">添加你的第一个任务开始吧！</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="renderer.js"></script>
</body>
</html>
